# Projektanalys

JobChaser är byggt med Next.js och React och hämtar jobbdata från [Remotive](https://remotive.com) API:et. Huvudfunktionaliteten i appen är jobblistan som visar jobben från API:et, samt sök och filtreringsfunktionen.

För varje jobb finns det en knapp att klicka på som öppnar upp en modalruta där man kan läsa mer information om jobben. Det går även att spara jobb i en bokmärkeslista som man kommer åt i huvudmenyn. Där kan man klicka på jobben för att få ut informationsrutan, eller ta bort det i listan. Bokmärkena sparas som en lista av jobb-ID:n i local storage så att de finns tillgängliga även efter att man stänger ner hemsidan. Beskrivningsinformationen man får från API:et är i HTML, vilket kan bli en stor säkerhetsrisk om man inte reglerar koden (funktionaliteten för att rendera HTML i React från ett värde heter t.o.m. dangerouslySetInnerHTML på grund av detta), så för att säkra upp använder jag mig av biblioteket DOMPurify för ta bort all kod som kan öppna upp för XSS-attacker.

Det finns en mockup till ett inloggningssystem som egentliga bara finns till för att någonting ska hända när man submittar inloggningsformuläret. Inloggningsstatusen sparas i en store i Redux som används för att visa olika information i UI:t beroende på inloggningsstatus. Jag valde att inte lägga så mycket tid på detta eftersom vi ska skapa backend till JobChaser i en senare kurs, så det finns mycket mer att förbättra där, men jag villa testa på att använda useContext lite mer och jobba med konditionell rendering av innehåll, vilket sker huvudsakligen i sidnavigationen i headern.

Jag har använt Tailwind CSS och komponentbiblioteket HeroUI för att designa sidan. Det underlättar mycket att inte behöva lägga så mycket tid på att skriva CSS och designa komponenter, med nackdelarna att om man har väldigt specifik funktionalitet i åtanke så finns inte alltid det tillgängligt “out of the box”. Till filteringssystemet använde jag ursprungligen “Select” komponenten från HeroUI då den tillåter att man kan välja flera värden att filtrera på samtidigt. Men när jag implementerade API:et och bestämde mig för att fylla i filtreringsalternativen dynamiskt beroende på vilka värden som finns bland jobben blev location-filtret väldigt långt då nästan varje land fanns med i listan. Då bytte jag till “Autocomplete” komponenten som har en inbyggd sökruta som gör det smidigt att hitta det alternativet man vill ha, men den har inte support för att markera flera alternativ. Jag valde att inte grotta ner mig att att bygga en egen komponent, och fick helt enkelt välja mellan den komponenten som jag ansåg bidrog med bäst funktionalitet, vilket blev Autocomplete, trots att jag gärna velat kunnat markera flera alternativ.

Då jag hade planer för att integrera ett API med mycket data så implementerade jag logiken för ett pagination-system för att göra listan av jobb mer överskådlig och lättnavigerad, samt bättre för prestanda då sidan inte behöver ladda in tusentals element på en gång.

Med hjälp av animationsbiblioteket Framer Motion har jag lagt in lite enkla animationer vid sidnavigering och när jobblistan renderas. Det var väldigt lätt att använda och jag hade gärna lekt runt med fler animationer, kanske på startsidan om jag lagt ner mer tid på den för att göra den mer visuellt intressant, men de animationer jag lagt till tycker jag är ganska effektiva för att ge sidan ett mjukare och mer dynamiskt intryck. Det fungerar inte till 100% som det ska t.ex. när man kommer till jobbsidan genom sökrutan, så där behövs det genomföras ytterliggare felsökning.

Sidan har funktionalitet att byta mellan light- och dark mode. Jag valde att använda mig av next-themes paketet då det enkelt löste många problem jag hade med att implementera dark mode med useContext, bland annat visuella buggar och oönskade beteenden som blev komplicerat att fixa. Jag har fortfarande en context som används för temat då Next.js hade många klagomål om min implementation som jag inte riktigt förstod fullt ut, men som löstes med ett extra lager context. Hade jag haft mer tid hade jag velat sätta mig in i det lite mer för koden just nu känns inte optimal, men den har i varje fall det resultatet jag ville ha.

När mina komponenter blivit för stora och krångliga att läsa har jag försökt att refaktorisera logik och flytta över det till flera komponenter för att lättare kunna jobba med projektet. Jag har försökt att göra sidan så mobilvänlig som möjlig i efterhand då jag automatiskt körde med en “desktop first” mentalitet när jag började bygga sidan. HeroUI och Tailwind har bra support för att enkelt kunna anpassa sitt användargränssnitt för olika breakpoints, så jag har använt mig av Tailwind-klasser och konditionell rendering för att visa/dölja element beroende av breakpoints.

Jag är ganska nöjd med grundfunktionaliteten jag har lyckats få till i JobbChaser. Det var en stor utmaning då jag aldrig jobbat med React innan och det finns så mycket att lära sig. Jag hade gärna jobbat mer på att ge sidan mer grafisk identitet och personlighet, men jag ville lägga mest fokus på att lära mig React och allt däromkring. Jag har några varningar kvar i min kod som har med useEffect att göra, så där behöver jag läsa på mer och undersöka om och hur det ska förbättras. Ytligt så fungerar sidan som den ska, men varningar brukar inte visas utan anledning, så det tåls absolut att kolla vidare på. Det behöver också göras vissa optimeringar vad gäller API-hämtningen och sökrutan då det finns lite konstiga buggar där, och hämtningen kan gå lite långsamt, så där kanske man kan förbättra genom att inte hämta alla jobb på en gång, utan bara hämta de som behöver renderas ut för den aktuella pagination-sidan. Sökrutan i hero-elementet har jag inte hunnit uppdatera för att fungera som den ska med hänsyn till state, men den känns också lite överflödig då jag redan har en sökruta i headern. Helst behöver hela startsidan en helrenobering.